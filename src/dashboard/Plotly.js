import React from 'react';
import Plot from 'react-plotly.js';

import config from '../config';
import { fetch_json } from '../networking';

class Plotly extends React.Component {
  constructor(props) {
    super(props);
    const endpoint = `${config.api}${props.path}`;
    this.state = {};
    if (props.path === 'unidade') {
      this.state.json = {
      data: [{"uid": "973a4561-350e-419d-b95a-ebcb43ed50d8", "ysrc": "tiagoshibata:0:ee2f83", "xsrc": "tiagoshibata:0:983484", "mode": "lines", "text": "", "y": [10.1, 5.7, 5.2, 4.7, 4.7, 4.6, 3.9, 3.9, 3.6, 3.6, 3.3, 3.2, 3, 2.3, 2.3, 2.2, 2.2, 2.1, 2, 2, 2, 2, 2, 1.6, 1.6, 1.6, 1.5, 1.2, 1.2, 1.1, 0.9, 0.8, 0.8, 0.7, 0.5, 0.5, 0.4, 0.4, 0.4, 0.4, 0.4, 0.3, 0.3, 0.3, 0.3, 0.2, 0.2, 0.2, 0.2, 0.2, 0.2, 0.2, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0, 0, 0, 0, 0], "x": ["FFLCH                                             ", "ESALQ                                             ", "FMRP                                              ", "FM                                                ", "EP                                                ", "RUSP                                              ", "ICB                                               ", "EESC                                              ", "FEA                                               ", "ECA                                               ", "FE                                                ", "IF                                                ", "FSP                                               ", "IME                                               ", "IB                                                ", "FOB                                               ", "FAU                                               ", "FCF                                               ", "IQ                                                ", "FMVZ                                              ", "FFCLRP                                            ", "FO                                                ", "EE                                                ", "FD                                                ", "EERP                                              ", "IP                                                ", "IGc                                               ", "ICMC                                              ", "FORP                                              ", "IO                                                ", "FCFRP                                             ", "IAG                                               ", "IFSC                                              ", "EEFE                                              ", "IQSC                                              ", "PUSP-RP                                           ", "CENA                                              ", "MAE                                               ", "MP                                                ", "PUSP-FC                                           ", "PUSP-LQ                                           ", "HU                                                ", "SVOC                                              ", "MZ                                                ", "IEB                                               ", "EACH                                              ", "FZEA                                              ", "MAC                                               ", "SCS                                               ", "SAS                                               ", "PUSP-C                                            ", "IEE                                               ", "PUSP-SC                                           ", "PUSP-B                                            ", "CEPEUSP                                           ", "HRAC                                              ", "IAU                                               ", "IMT                                               ", "SEF                                               ", "SIBI                                              ", "EDUSP                                             ", "FDRP                                              ", "IEA                                               ", "CEBIMar                                           ", "FEARP                                             ", "EEFERP                                            ", "EEL                                               ", "IRI                                               ", "SVOI                                              ", "CDCC                                              ", "PUSP-QSD                                          ", "STI                                               ", "ATIVIDADES INTEGRADAS                             ", "F. E PROJ. ESPECIAIS                              ", "SENTEN\u00c7AS                                         "], "line": {"dash": "solid", "color": "rgba(255, 153, 51, 1.0)", "shape": "linear", "width": 1.3}, "type": "scatter", "name": "Tot_Inativos (%)"}],
      layout: {"autosize": true, "yaxis": {"tickfont": {"color": "#4D5663"}, "title": "", "showgrid": true, "zerolinecolor": "#E1E5ED", "range": [-0.561111111111111, 10.661111111111111], "gridcolor": "#E1E5ED", "titlefont": {"color": "#4D5663"}, "type": "linear", "autorange": true}, "paper_bgcolor": "#F5F6F9", "plot_bgcolor": "#F5F6F9", "titlefont": {"color": "#4D5663"}, "xaxis": {"tickfont": {"color": "#4D5663"}, "title": "", "showgrid": true, "zerolinecolor": "#E1E5ED", "range": [0, 64], "gridcolor": "#E1E5ED", "titlefont": {"color": "#4D5663"}, "type": "category", "autorange": true}, "legend": {"bgcolor": "#F5F6F9", "font": {"color": "#4D5663"}}}};
    } else if (props.path === 'repasse') {
      this.state.json = {
        data: [{"name": "Repasse", "orientation": "v", "ysrc": "tiagoshibata:2:3ab22d", "xsrc": "tiagoshibata:2:10863f", "marker": {"color": "rgba(255, 153, 51, 0.6)", "line": {"color": "rgba(255, 153, 51, 1.0)", "width": 1}}, "text": "", "y": [4.6, 2, 2.1, 9, 1.8, 4.9], "x": ["USP", "Unicamp", "Unesp", "Harvard", "Oxford", "Stanford"], "type": "bar", "uid": "5612857e-f940-4605-aadb-9e1c35f4a81e"}, {"name": "Folha Salarial", "orientation": "v", "ysrc": "tiagoshibata:2:f4eae1", "xsrc": "tiagoshibata:2:10863f", "marker": {"color": "rgba(55, 128, 191, 0.6)", "line": {"color": "rgba(55, 128, 191, 1.0)", "width": 1}}, "text": "", "y": [4.6, 2, 2.1, 10, 5.9, 8.7], "x": ["USP", "Unicamp", "Unesp", "Harvard", "Oxford", "Stanford"], "type": "bar", "uid": "a5b7e1f8-d68c-4b82-b402-00565f383240"}, {"name": "Endowment", "orientation": "v", "ysrc": "tiagoshibata:2:009a89", "xsrc": "tiagoshibata:2:10863f", "marker": {"color": "rgba(50, 171, 96, 0.6)", "line": {"color": "rgba(50, 171, 96, 1.0)", "width": 1}}, "text": "", "y": [1, 1, 1, 138, 27, 90], "x": ["USP", "Unicamp", "Unesp", "Harvard", "Oxford", "Stanford"], "type": "bar", "uid": "0ac08631-67fe-4a4e-9b95-70a7bb5b6749"}],
        layout: {"autosize": true, "yaxis": {"tickfont": {"color": "#4D5663"}, "title": "", "showgrid": true, "zerolinecolor": "#E1E5ED", "range": [0, 145.26315789473685], "gridcolor": "#E1E5ED", "titlefont": {"color": "#4D5663"}, "type": "linear", "autorange": true}, "paper_bgcolor": "#F5F6F9", "plot_bgcolor": "#F5F6F9", "titlefont": {"color": "#4D5663"}, "xaxis": {"tickfont": {"color": "#4D5663"}, "title": "", "showgrid": true, "zerolinecolor": "#E1E5ED", "range": [-0.5, 5.5], "gridcolor": "#E1E5ED", "titlefont": {"color": "#4D5663"}, "type": "category", "autorange": true}, "legend": {"bgcolor": "#F5F6F9", "font": {"color": "#4D5663"}}}
      };
    } else if (props.path === 'universidades') {
      this.state.json = {
        data: [{"name": "Frac", "orientation": "v", "ysrc": "tiagoshibata:4:8ed75f", "xsrc": "tiagoshibata:4:03acf4", "marker": {"color": "rgba(255, 153, 51, 0.6)", "line": {"color": "rgba(255, 153, 51, 1.0)", "width": 1}}, "text": "", "y": [327, 177, 110, 101.3, 100.4, 99.7], "x": ["Oxford", "Stanford", "Harvard", "Unicamp", "USP", "Unesp"], "type": "bar", "uid": "311b0489-4c2b-4ee3-a8dd-89295e4e93e7"}],
        layout: {"autosize": true, "yaxis": {"tickfont": {"color": "#4D5663"}, "title": "", "showgrid": true, "zerolinecolor": "#E1E5ED", "range": [0, 344.2105263157895], "gridcolor": "#E1E5ED", "titlefont": {"color": "#4D5663"}, "type": "linear", "autorange": true}, "paper_bgcolor": "#F5F6F9", "plot_bgcolor": "#F5F6F9", "titlefont": {"color": "#4D5663"}, "xaxis": {"tickfont": {"color": "#4D5663"}, "title": "", "showgrid": true, "zerolinecolor": "#E1E5ED", "range": [-0.5, 5.5], "gridcolor": "#E1E5ED", "titlefont": {"color": "#4D5663"}, "type": "category", "autorange": true}, "legend": {"bgcolor": "#F5F6F9", "font": {"color": "#4D5663"}}},};

    } else if (props.path === 'repasse') {
      this.state.json = {
        data: [{"name": "Repasse", "orientation": "v", "ysrc": "tiagoshibata:6:6cbc1f", "xsrc": "tiagoshibata:6:95e788", "marker": {"color": "rgba(16, 148, 171, 0.6)", "line": {"color": "rgba(16, 148, 171, 1.0)", "width": 1}}, "text": "", "y": [4921546, 5003225, 5244766], "x": [2016, 2017, 2018], "type": "bar", "uid": "29db24ff-93af-42da-90d1-32c0a216c198"}, {"name": "Or\u00e7amento", "orientation": "v", "ysrc": "tiagoshibata:6:0bdb40", "xsrc": "tiagoshibata:6:95e788", "marker": {"color": "rgba(252, 180, 33, 0.6)", "line": {"color": "rgba(252, 180, 33, 1.0)", "width": 1}}, "text": "", "y": [5678764, 5530197, 5437967], "x": [2016, 2017, 2018], "type": "bar", "uid": "ed024488-62cc-4706-b7e6-80a23493f4fc"}],
        layout: {"autosize": true, "title": "Or\u00e7amento USP e libera\u00e7\u00f5es financeiras do Tesouro do Estado de S\u00e3o Paulo para a USP", "paper_bgcolor": "#F5F6F9", "plot_bgcolor": "#F5F6F9", "yaxis": {"tickfont": {"color": "#4D5663"}, "title": "Valor Nominal R$1000", "showgrid": true, "zerolinecolor": "#E1E5ED", "range": [0, 5977646.315789473], "gridcolor": "#E1E5ED", "titlefont": {"color": "#4D5663"}, "type": "linear", "autorange": true}, "titlefont": {"color": "#4D5663"}, "xaxis": {"tickfont": {"color": "#4D5663"}, "title": "Ano", "showgrid": true, "zerolinecolor": "#E1E5ED", "range": [2015.5, 2018.5], "gridcolor": "#E1E5ED", "titlefont": {"color": "#4D5663"}, "type": "linear", "autorange": true}, "legend": {"bgcolor": "#F5F6F9", "font": {"color": "#4D5663"}}},};

    } else if (props.path === 'orcamento e gasto') {
      this.state.json = {
        data: [{"uid": "87d14862-caa7-4779-930b-4f6746a3ee94", "ysrc": "tiagoshibata:8:fdfc94", "xsrc": "tiagoshibata:8:bb8c28", "mode": "lines", "text": "", "y": [256031111.72, 219076261.94, 171973851.56, 163938041.22, 151088326.32, 142964720.78, 135119703.75, 105022126.17, 90317795.17, 89063909.91, 84616432.34, 80246556.78, 75297258.28, 74889196.72, 66462634.62, 64912760.85, 64865439.01, 62642667.09, 59723578.52, 58223598.3, 55858170.51, 55395172.66, 55140611.52, 55000860.9, 54243969.14, 53284023.13, 53087488.12, 49316643.73, 49104829.83, 48402812.36, 46349240.08, 46111806.49, 42813937.7, 42622056.43, 40353001.83, 40345204.12, 38248699.01, 36782146.01, 35678968.41, 34655182.87, 33570809.91, 32953861.36, 32236266.87, 30283995.15, 29893544.99, 29634816.75, 27873815.34, 27241219.34, 26652161.64, 26193605.79, 23835086.56, 20789925.57, 18674796.01, 15820757.34, 15343471.05, 14684650.12, 13616768.68, 13466688.21, 13198347.1, 12963737.2, 11941504.35, 11423578.69, 10385722.2, 9480539.85, 8407065.08, 7531937.86, 7177616.4, 6706244.55, 6587004.43, 5154033.58, 2980683.52, 1108763.51], "x": ["HU                                                ", "RUSP                                              ", "EP                                                ", "FMRP                                              ", "FFLCH                                             ", "FM                                                ", "ESALQ                                             ", "EESC                                              ", "IF                                                ", "HRAC                                              ", "ICB                                               ", "FFCLRP                                            ", "EACH                                              ", "ECA                                               ", "IME                                               ", "FMVZ                                              ", "FSP                                               ", "IQ                                                ", "SAS                                               ", "FOB                                               ", "FO                                                ", "FCFRP                                             ", "IB                                                ", "FEA                                               ", "PUSP-RP                                           ", "STI                                               ", "FE                                                ", "FORP                                              ", "IFSC                                              ", "ICMC                                              ", "FCF                                               ", "FAU                                               ", "IP                                                ", "FZEA                                              ", "EERP                                              ", "FD                                                ", "IAG                                               ", "IGc                                               ", "EE                                                ", "IQSC                                              ", "IEE                                               ", "PUSP-LQ                                           ", "IO                                                ", "PUSP-C                                            ", "FEARP                                             ", "CENA                                              ", "PUSP-SC                                           ", "SEF                                               ", "EEL                                               ", "EEFE                                              ", "PUSP-FC                                           ", "CEPEUSP                                           ", "SCS                                               ", "MAC                                               ", "MAE                                               ", "PUSP-B                                            ", "IAU                                               ", "MZ                                                ", "IMT                                               ", "MP                                                ", "IEB                                               ", "FDRP                                              ", "SVOC                                              ", "EEFERP                                            ", "EDUSP                                             ", "SIBI                                              ", "IRI                                               ", "IEA                                               ", "CEBIMar                                           ", "CDCC                                              ", "SVOI                                              ", "PUSP-QSD                                          ", "ATIVIDADES INTEGRADAS                             ", "F. E PROJ. ESPECIAIS                              ", "SENTEN\u00c7AS                                         "], "line": {"dash": "solid", "color": "rgba(16, 148, 171, 1.0)", "shape": "linear", "width": 1.3}, "type": "scatter", "name": "Ativos"}, {"uid": "3d37ae3e-7667-42ad-ada1-b0600387ab83", "ysrc": "tiagoshibata:8:8dd03d", "xsrc": "tiagoshibata:8:bb8c28", "mode": "lines", "text": "", "y": [3253413.45, 44162947.67, 45373043.52, 50212601.97, 98356356.99, 45418021.91, 55580944.1, 37922203.97, 31005864.83, 627193.07, 37865076.22, 19078068.13, 1742557.76, 34931940.69, 22494720.73, 19898368, 28956229.57, 19940512.25, 2222272.37, 21528548.64, 19379019.96, 8777163.22, 22019144.07, 35239181.37, 4730747.83, "", 31905936.33, 12011312.2, 7706753.52, 11380953.31, 20422941.34, 20936675.16, 15775523.29, 2237215.48, 15042884.95, 15583481.99, 7949950.49, 14472760.44, 19358374.6, 4499135.76, 2130321.15, 4218563.09, 10688398.6, 2345976, 313164.87, 4196394.64, 953019.39, 1196575.67, "", 6601095.8, 4063767.94, 957569.44, 1517850.2, 1537925.6, 3627324.62, 639535.27, 788995.81, 2773477.6, 769366.02, 4183955.65, 2584506.86, 91038.85, 2639041.45, "", 355809.09, 1104681.3, "", 377707.22, 373596.83], "x": ["HU                                                ", "RUSP                                              ", "EP                                                ", "FMRP                                              ", "FFLCH                                             ", "FM                                                ", "ESALQ                                             ", "EESC                                              ", "IF                                                ", "HRAC                                              ", "ICB                                               ", "FFCLRP                                            ", "EACH                                              ", "ECA                                               ", "IME                                               ", "FMVZ                                              ", "FSP                                               ", "IQ                                                ", "SAS                                               ", "FOB                                               ", "FO                                                ", "FCFRP                                             ", "IB                                                ", "FEA                                               ", "PUSP-RP                                           ", "STI                                               ", "FE                                                ", "FORP                                              ", "IFSC                                              ", "ICMC                                              ", "FCF                                               ", "FAU                                               ", "IP                                                ", "FZEA                                              ", "EERP                                              ", "FD                                                ", "IAG                                               ", "IGc                                               ", "EE                                                ", "IQSC                                              ", "IEE                                               ", "PUSP-LQ                                           ", "IO                                                ", "PUSP-C                                            ", "FEARP                                             ", "CENA                                              ", "PUSP-SC                                           ", "SEF                                               ", "EEL                                               ", "EEFE                                              ", "PUSP-FC                                           ", "CEPEUSP                                           ", "SCS                                               ", "MAC                                               ", "MAE                                               ", "PUSP-B                                            ", "IAU                                               ", "MZ                                                ", "IMT                                               ", "MP                                                ", "IEB                                               ", "FDRP                                              ", "SVOC                                              ", "EEFERP                                            ", "EDUSP                                             ", "SIBI                                              ", "IRI                                               ", "IEA                                               ", "CEBIMar                                           ", "CDCC                                              ", "SVOI                                              ", "PUSP-QSD                                          ", "ATIVIDADES INTEGRADAS                             ", "F. E PROJ. ESPECIAIS                              ", "SENTEN\u00c7AS                                         "], "line": {"dash": "solid", "color": "rgba(100, 196, 210, 1.0)", "shape": "linear", "width": 1.3}, "type": "scatter", "name": "Inativos"}, {"uid": "e2296920-7862-4bc8-a7fc-9ee721c85ded", "ysrc": "tiagoshibata:8:07b8be", "xsrc": "tiagoshibata:8:bb8c28", "mode": "lines", "text": "", "y": [34495517.48, 31466506.52, 7075833.53, 3191415.2, 3622591.24, 4120052.86, 5470312.3, 3592505.6, 3197636.64, 1803487.37, 2338958.9, 1965604.51, 2371350.71, 2519781.96, 1273934.68, 2669871.04, 1043895.63, 1904760.3, 855716.44, 1426736.61, 1381141.18, 1776524.28, 1356627.97, 1440908.95, 3866838.87, 16127013.56, 1264521.82, 610890.15, 2079855.42, 2294570.82, 1258383.4, 1219866.46, 811181.92, 1992440.34, 878562.34, 1486053.32, 917909.82, 1376073.32, 445304.55, 670108.85, 359025.86, 2222686.63, 2260764.87, 7341660.88, 844472.68, 1100412.9, 1339435.32, 26554950.2, 2122529.96, 532427.62, 4822210.98, 412580.73, 961923.96, 592037.25, 586481.57, 558208.08, 463655.39, 801793.51, 286229.53, 1061122.78, 291678.48, 417688.2, 139986.23, 415945.17, 626057.57, 236324.03, 705662.65, 665639.72, 263580.26, 270024.1, 68572.35, 196204.41, 284930506.32, 106870723.34, 20747147.79], "x": ["HU                                                ", "RUSP                                              ", "EP                                                ", "FMRP                                              ", "FFLCH                                             ", "FM                                                ", "ESALQ                                             ", "EESC                                              ", "IF                                                ", "HRAC                                              ", "ICB                                               ", "FFCLRP                                            ", "EACH                                              ", "ECA                                               ", "IME                                               ", "FMVZ                                              ", "FSP                                               ", "IQ                                                ", "SAS                                               ", "FOB                                               ", "FO                                                ", "FCFRP                                             ", "IB                                                ", "FEA                                               ", "PUSP-RP                                           ", "STI                                               ", "FE                                                ", "FORP                                              ", "IFSC                                              ", "ICMC                                              ", "FCF                                               ", "FAU                                               ", "IP                                                ", "FZEA                                              ", "EERP                                              ", "FD                                                ", "IAG                                               ", "IGc                                               ", "EE                                                ", "IQSC                                              ", "IEE                                               ", "PUSP-LQ                                           ", "IO                                                ", "PUSP-C                                            ", "FEARP                                             ", "CENA                                              ", "PUSP-SC                                           ", "SEF                                               ", "EEL                                               ", "EEFE                                              ", "PUSP-FC                                           ", "CEPEUSP                                           ", "SCS                                               ", "MAC                                               ", "MAE                                               ", "PUSP-B                                            ", "IAU                                               ", "MZ                                                ", "IMT                                               ", "MP                                                ", "IEB                                               ", "FDRP                                              ", "SVOC                                              ", "EEFERP                                            ", "EDUSP                                             ", "SIBI                                              ", "IRI                                               ", "IEA                                               ", "CEBIMar                                           ", "CDCC                                              ", "SVOI                                              ", "PUSP-QSD                                          ", "ATIVIDADES INTEGRADAS                             ", "F. E PROJ. ESPECIAIS                              ", "SENTEN\u00c7AS                                         "], "line": {"dash": "solid", "color": "rgba(252, 180, 33, 1.0)", "shape": "linear", "width": 1.3}, "type": "scatter", "name": "Outras_Despesas"}],
        layout: {"autosize": true, "title": "Or\u00e7amento de gasto por unidade em 2017", "paper_bgcolor": "#F5F6F9", "plot_bgcolor": "#F5F6F9", "yaxis": {"tickfont": {"color": "#4D5663"}, "title": "", "showgrid": true, "zerolinecolor": "#E1E5ED", "range": [-15757090.64833333, 300756169.3183333], "gridcolor": "#E1E5ED", "titlefont": {"color": "#4D5663"}, "type": "linear", "autorange": true}, "titlefont": {"color": "#4D5663"}, "xaxis": {"tickfont": {"color": "#4D5663"}, "title": "", "showgrid": true, "zerolinecolor": "#E1E5ED", "range": [0, 74], "gridcolor": "#E1E5ED", "titlefont": {"color": "#4D5663"}, "type": "category", "autorange": true}, "legend": {"bgcolor": "#F5F6F9", "font": {"color": "#4D5663"}}}};
    } else if (props.path === 'gasto % da unidade') {
      this.state.json = {
        data: [{"name": "Total(%)", "orientation": "v", "ysrc": "tiagoshibata:10:2ce482", "xsrc": "tiagoshibata:10:295cc2", "marker": {"color": "rgba(16, 148, 171, 0.6)", "line": {"color": "rgba(16, 148, 171, 1.0)", "width": 1}}, "text": "", "y": [5.6, 5.5, 5.4, 4.8, 4.2, 4.1, 3.7, 3.6, 2.8, 2.4, 2.4, 2.1, 2, 1.9, 1.8, 1.7, 1.7, 1.7, 1.6, 1.6, 1.6, 1.5, 1.5, 1.5, 1.4, 1.3, 1.3, 1.3, 1.2, 1.2, 1.2, 1.2, 1.2, 1.1, 1.1, 1.1, 1.1, 1, 1, 1, 0.9, 0.9, 0.8, 0.8, 0.8, 0.7, 0.7, 0.7, 0.6, 0.6, 0.6, 0.6, 0.5, 0.4, 0.4, 0.4, 0.4, 0.3, 0.3, 0.3, 0.3, 0.3, 0.3, 0.3, 0.2, 0.2, 0.2, 0.2, 0.2, 0.2, 0.2, 0.1, 0.1, 0.1, 0], "x": ["RUSP                                              ", "HU                                                ", "ATIVIDADES INTEGRADAS                             ", "FFLCH                                             ", "EP                                                ", "FMRP                                              ", "ESALQ                                             ", "FM                                                ", "EESC                                              ", "ICB                                               ", "IF                                                ", "ECA                                               ", "F. E PROJ. ESPECIAIS                              ", "FFCLRP                                            ", "FSP                                               ", "HRAC                                              ", "IME                                               ", "FEA                                               ", "FMVZ                                              ", "IQ                                                ", "FE                                                ", "IB                                                ", "FOB                                               ", "EACH                                              ", "FO                                                ", "STI                                               ", "FAU                                               ", "FCF                                               ", "FCFRP                                             ", "SAS                                               ", "PUSP-RP                                           ", "FORP                                              ", "ICMC                                              ", "FD                                                ", "IP                                                ", "EERP                                              ", "IFSC                                              ", "EE                                                ", "IGc                                               ", "SEF                                               ", "FZEA                                              ", "IAG                                               ", "IO                                                ", "IQSC                                              ", "PUSP-C                                            ", "CENA                                              ", "IEE                                               ", "PUSP-LQ                                           ", "FEARP                                             ", "EEFE                                              ", "PUSP-SC                                           ", "PUSP-FC                                           ", "EEL                                               ", "SCS                                               ", "CEPEUSP                                           ", "SENTEN\u00c7AS                                         ", "MAE                                               ", "MP                                                ", "IEB                                               ", "MZ                                                ", "IAU                                               ", "MAC                                               ", "PUSP-B                                            ", "IMT                                               ", "SIBI                                              ", "EEFERP                                            ", "IEA                                               ", "SVOC                                              ", "EDUSP                                             ", "FDRP                                              ", "IRI                                               ", "SVOI                                              ", "CEBIMar                                           ", "CDCC                                              ", "PUSP-QSD                                          "], "type": "bar", "uid": "d1d23203-ec5a-4435-9f2c-83ef0e154aad"}],
        layout: {"autosize": true, "title": "Gasto % do Repasse por Unidade", "paper_bgcolor": "#F5F6F9", "plot_bgcolor": "#F5F6F9", "yaxis": {"tickfont": {"color": "#4D5663"}, "title": "", "showgrid": true, "zerolinecolor": "#E1E5ED", "range": [0, 5.894736842105263], "gridcolor": "#E1E5ED", "titlefont": {"color": "#4D5663"}, "type": "linear", "autorange": true}, "titlefont": {"color": "#4D5663"}, "xaxis": {"tickfont": {"color": "#4D5663"}, "title": "", "showgrid": true, "zerolinecolor": "#E1E5ED", "range": [-0.5, 74.5], "gridcolor": "#E1E5ED", "titlefont": {"color": "#4D5663"}, "type": "category", "autorange": true}, "legend": {"bgcolor": "#F5F6F9", "font": {"color": "#4D5663"}}},
      }
    } else if (props.path === 'funcionarios por unidade') {
      this.state.json = {
        data: [{"name": " Nome", "orientation": "v", "ysrc": "tiagoshibata:12:7fad05", "xsrc": "tiagoshibata:12:58b695", "marker": {"color": "rgba(252, 180, 33, 0.6)", "line": {"color": "rgba(252, 180, 33, 1.0)", "width": 1}}, "text": "", "y": [1474, 1409, 1196, 1121, 1117, 1003, 976, 714, 629, 605, 576, 522, 503, 502, 484, 472, 463, 460, 454, 452, 438, 432, 421, 397, 395, 394, 390, 350, 344, 316, 301, 301, 290, 282, 281, 276, 273, 257, 254, 245, 238, 231, 226, 223, 209, 201, 178, 170, 169, 161, 134, 119, 109, 106, 101, 101, 91, 86, 86, 83, 78, 72, 63, 59, 56, 46, 43, 41, 35, 31, 18, 6, 4, 2], "x": ["RUSP", "HU", "FFLCH", "EP", "FM", "FMRP", "ESALQ", "EESC", "ICB", "HRAC", "ECA", "IF", "FSP", "FFCLRP", "EACH", "FMVZ", "FEA", "PUSP-RP", "FO", "FE", "FOB", "SAS", "IQ", "FD", "IME", "IB", "FAU", "FCF", "EEL", "FCFRP", "ICMC", "IP", "FORP", "EERP", "IFSC", "PUSP-LQ", "EE", "FZEA", "IGc", "STI", "IO", "PUSP-SC", "IAG", "PUSP-FC", "PUSP-C", "IQSC", "EEFE", "CENA", "IEE", "FEARP", "CEPEUSP", "MP", "PUSP-B", "SEF", "MAC", "MZ", "SCS", "MAE", "FDRP", "SVOC", "IAU", "IEB", "IMT", "EEFERP", "EDUSP", "IRI", "CEBIMar", "SIBI", "IEA", "CDCC", "SVOI", "PUSP-CL", "PUSPQSD", "PUSP-L"], "type": "bar", "uid": "8a6212e7-cb4c-4f18-8a6c-ced137a25ada"}],
        layout: {"autosize": true, "title": "Funcion\u00e1rios por Unidade", "paper_bgcolor": "#F5F6F9", "plot_bgcolor": "#F5F6F9", "yaxis": {"tickfont": {"color": "#4D5663"}, "title": "", "showgrid": true, "zerolinecolor": "#E1E5ED", "range": [0, 1551.578947368421], "gridcolor": "#E1E5ED", "titlefont": {"color": "#4D5663"}, "type": "linear", "autorange": true}, "titlefont": {"color": "#4D5663"}, "xaxis": {"tickfont": {"color": "#4D5663"}, "title": "", "showgrid": true, "zerolinecolor": "#E1E5ED", "range": [-0.5, 73.5], "gridcolor": "#E1E5ED", "titlefont": {"color": "#4D5663"}, "type": "category", "autorange": true}, "legend": {"bgcolor": "#F5F6F9", "font": {"color": "#4D5663"}}},
      };
    } else {
      fetch_json(endpoint)
        .then(json => {
          this.setState({json: json[0]});
        })
        .catch(
          () => {
            this.setState({
              failed: true,
            });
          }
        );

    }
  }

  getPlot = () => {
    let data = [], layout;
    if (this.state.json) {
      data = this.state.json.data;
      layout = this.state.json.layout;
    } else if (this.state.failed) {
      layout = {title: 'Failed to load graph'};
    } else {
      layout = {title: 'Loading graph...'};
    }
    layout.autosize = true;
    return (
      <Plot
        data={data}
        layout={layout}
        useResizeHandler={true}
        style={this.props.style || {width: '100%'}}
      />
    );
  }

  render = () => {
    return (
      <div>
        { this.getPlot() }
      </div>
    );
  }
}

export default Plotly;
